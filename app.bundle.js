(()=>{"use strict";!function(){const t=document.querySelector("#todoList"),e=document.querySelector("#createTodoForm"),o=e.elements.todoTitle,n=document.querySelector("#clearTodosBtn");function i(){const t=localStorage.getItem("todos"),e=JSON.parse(t);return Array.isArray(e)?e:[]}e.addEventListener("submit",(t=>{t.preventDefault();!function(t){const e=i(),o=function(t){const e=+new Date;return{id:e,title:t,isCompleted:!1}}(t),n=[...e,o],s=JSON.stringify(n);localStorage.setItem("todos",s)}(o.value),o.value="",c()})),n.addEventListener("click",(()=>{!function(t){const e=[];localStorage.setItem("todos",JSON.stringify(e))}(),c()}));const s=t=>`\n      <li class="todo-item ${t.isCompleted?"completed":""}" data-id="${t.id}">\n        <input\n          class="toggle" \n          type="checkbox" \n          data-id="${t.id}" \n          ${t.isCompleted?"checked":""}\n        />\n        <div class="todo-item__title">\n          ${t.title}\n        </div>\n        <button class="destroy" data-id="${t.id}">\n          <i class="fa-solid fa-trash-can"></i>\n        </button>\n      </li>\n    `;function c(){const e=i();t.innerHTML="";for(const o of e.toReversed()){const e=s(o);t.innerHTML+=e}!function(){t.querySelectorAll(".toggle").forEach((t=>{t.addEventListener("change",(t=>{const e=t.currentTarget.dataset.id;t.target.checked?function(t){const e=i().map((e=>(e.id==t&&(e.isCompleted=!0),e))),o=JSON.stringify(e);localStorage.setItem("todos",o)}(e):function(t){const e=i().map((e=>(e.id==t&&(e.isCompleted=!1),e))),o=JSON.stringify(e);localStorage.setItem("todos",o)}(e),c()}))}));t.querySelectorAll(".destroy").forEach((t=>{t.addEventListener("click",(t=>{!function(t){const e=i(),o=e.find((e=>e.id==t));if(-1===e.indexOf(o))return e;const n=e.filter((e=>e.id!=t)),s=JSON.stringify(n);localStorage.setItem("todos",s)}(t.currentTarget.dataset.id),c()}))}))}()}c()}()})();
//# sourceMappingURL=app.bundle.js.map